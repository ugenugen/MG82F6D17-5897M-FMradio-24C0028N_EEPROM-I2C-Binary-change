ノベルティグッズでもらったポケットサイズのFMラジオDS-712F(sounddec.com)がことの発端。このラジオが、サーキット場内放送専用周波数1ch、79.3MHzしか受信できないように設定されていた。<BR>
しかし、内部構造や液晶表示を見るに、設定次第では、普通のラジオとして使えそうに見えた。<BR>
メーカーサイトを見るに、製品としては、DoubleTune radioと同じ構成と見える(https://www.sounddec.com/product_double.php)<BR>
チューニングのUP/Downボタンを同時押しするとプリセットチャンネルモードと、周波数スキャンモードを行き来できるようになっている。
そこで、何かしらの設定変更によって、1ch専用から、多チャンネル、任意周波数受信ができるように改変することとした。<BR>
結果的には、基板上のEEPROM内データを修正することで、任意のch数を設定し、それに任意の周波数を設定できた、また、チャンネル設定ではなく、周波数サーチや任意周波数ステップ変更時の検索可能周波数範囲を設定できることを突き止めた。<BR>
現時点で、当方が使用しているEEPROMデータのDumpは以下の通り<BR>
  0x00:　0xA5, 0xEC, 0x22, 0x00, 0x0A, 0x00, 0xFF, 0x01, 0x88, 0x13, 0x30, 0x2A, 0xFF, 0xFF, 0xFF, 0xFF,<BR>
  0x10:　0x01, 0x00, 0x22, 0x1F, 0x02, 0x00, 0x58, 0x20, 0x03, 0x00, 0x02, 0x21, 0x04, 0x00, 0xFC, 0x21,<BR>
  0x20:　0x05, 0x00, 0xB0, 0x22, 0x06, 0x00, 0xEC, 0x22, 0x07, 0x00, 0x64, 0x23, 0x08, 0x00, 0xE6, 0x23,<BR>
  0x30:　0x09, 0x00, 0x72, 0x24, 0x0A, 0x00, 0x12, 0x25, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,<BR>
  0x40:　0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,<BR>
  0x50:　0xC5, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,<BR>
  0x60:　0x35, 0x36, 0x33, 0x37, 0xFF, 0xFF, 0xFF, 0xFF, 0x32, 0x30, 0x32, 0x35, 0x30, 0x32, 0x31, 0x35,<BR>
  0x70:　0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,<BR>
  0x80:　0x50, 0x4F, 0x23, 0x35, 0x36, 0x33, 0x37, 0x45, 0x20, 0x20, 0x20, 0x46, 0x4D, 0x1A, 0x35, 0x30,<BR>
  0x90:　0x2D, 0x31, 0x30, 0x38, 0x4D, 0x48, 0x7A, 0x20, 0x20, 0x20, 0x32, 0x2E, 0x31, 0x56, 0xFF, 0xFF,<BR>
  0xA0:　0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,<BR>
  0xB0:　0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,<BR>
  0xC0:　0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,<BR>
  0xD0:　0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,<BR>
  0xE0:　0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,<BR>
  0xF0:　0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF<BR>
<BR>
アドレス0x00行のデータの冒頭0x01～02にて、起動時の受信周波数設定となっている。0xEC, 0x22がそれである。<BR>
HEX→DEC換算する際は、右側22が上位、左側ECが下位であり、22EC→HEX2DEC→8940(x0.1MHz)となっている。<BR>
同様に、0x08から2byteは最小受信周波数、0x0Aは最大受信周波数である。<BR>
最小、最大周波数の幅は、使用国と地域にあわせて変更すれば良い<BR>
内臓するFMラジオIC　5807Mの内部処理としては、<BR>
Band 00 87-108MHz US/Euro<BR>
Band 01 76-91MHz Japan<BR>
Band 10 76-108MHz World Wide<BR>
Band 11 65-76MHz East Euro or 50-65MHz<BR>
となっているが、マイコン側でこの辺のバンド切り替えを勝手にやってくれているので、<BR>
EEPROMに書き込む情報ではその辺を気にしなくてもよさそうではある。<BR>
FMラジオICの5807Mは、詳細な製造元は不明だが、i2c通信でやりとりされているデータを観察すると、<BR>
ほぼRDA5807Mの仕様に準拠しているように見えるので、主マイコンとラジオICとのやり取りを確認したい方は、<BR>
RDA5807のDataSheetを参照されたい。
0x04は、プリセットチャンネルの数である。　0x03は前回正常終了できたかのフラグで、終了シーケンスで0x00が書き込まれる<BR>
アドレス0x10行～0x40行の4行は、プリセットチャンネルである。4byteで1ch分の情報になっている。1byte目がch数、<BR>
2byte目は謎だが、周波数以外に5807MラジオICに渡すパラメタを設定しているかも、3～4byte目で周波数になっている。<BR>
周波数の表記は、0x00行の周波数表記と同様である。　最大16chまで記述できるが、9ch以降は液晶表示にA,B,C,D,E,F表示される。<BR>
メモリに記述があっても、メモリアドレス0x04の記述数が優先される。<BR>

